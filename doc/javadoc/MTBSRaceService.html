<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (13.0.2) on Wed Mar 25 11:50:10 CET 2020 -->
<title>MTBSRaceService</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-03-25">
<meta name="description" content="declaration: class: MTBSRaceService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "./";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MTBSRaceService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<h1 title="Class MTBSRaceService" class="title">Class MTBSRaceService</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">MTBSRaceService</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">MTBSRaceService</span>
extends java.lang.Object</pre>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#classname">classname</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.sql.Connection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#con">con</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#kulanzzeit">kulanzzeit</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastrennid">lastrennid</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#password">password</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.text.SimpleDateFormat</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tfmt">tfmt</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#url">url</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#user">user</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Windbereich">Windbereich</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#WindMAxGPSPunkt">WindMAxGPSPunkt</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#WindPunkt">WindPunkt</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#WindStaerke">WindStaerke</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">MTBSRaceService</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ActPosListe(java.lang.String,java.lang.String,java.lang.String)">ActPosListe</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;RennenId)</code></th>
<td class="colLast">
<div class="block">Rueckgabe der aktuellen Positionen aller Teilnehmer eines Rennens als Stringarray.
 25.11.2011: erweitert auf Zielpulstraining
 28.12.2011: Zielpulsstrecke wird extra zurueckgegeben</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#chkSNR(java.lang.String)">chkSNR</a></span>&#8203;(java.lang.String&nbsp;SNR)</code></th>
<td class="colLast">
<div class="block">Ueberpruefung der Seriennummer auf Gueltigkeit.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ConnectDB(java.lang.String)">ConnectDB</a></span>&#8203;(java.lang.String&nbsp;db)</code></th>
<td class="colLast">
<div class="block">Connect zur Datenbank.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DeleteTeilnahme(java.lang.String,java.lang.String,java.lang.String)">DeleteTeilnahme</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</code></th>
<td class="colLast">
<div class="block">DeleteTeilnahme loescht eine TEILNAHME mittels (codierter) Seriennummer und Rennenbezeichnung aus der Datenbank.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInfoURL(java.lang.String,java.lang.String)">getInfoURL</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;url)</code></th>
<td class="colLast">
<div class="block">getInfoURL testet ob die uebergebene URL der letzte Eintrag in der 
 INFO Tabelle ist, wenn ja wird ein leerer String zurueckgegeben.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#GetKonfiguration(java.lang.String,java.lang.String,java.lang.String)">GetKonfiguration</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</code></th>
<td class="colLast">
<div class="block">GetKonfiguration ermittelt die Konfigurationswerte (MIN-Leistung etc.) anhand der Rennenbezeichnung.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>private java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLetzteAnmeldung(long)">getLetzteAnmeldung</a></span>&#8203;(long&nbsp;rennenid)</code></th>
<td class="colLast">
<div class="block">Ermittelt die letzte Anmeldung</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRegCode(java.lang.String,java.lang.String,java.lang.String)">getRegCode</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;sNR,
java.lang.String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">getRegCode testet ob die SNR in der Tabelle REGDAT gueltig ist.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#GetRennenID(java.lang.String,java.lang.String,java.lang.String)">GetRennenID</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</code></th>
<td class="colLast">
<div class="block">GetRennenID ermittelt die ID des Rennens anhand der Rennenbezeichnung.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#GetTeilnahmeID(java.lang.String,java.lang.String,java.lang.String)">GetTeilnahmeID</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</code></th>
<td class="colLast">
<div class="block">GetTeilnahmeID ermittelt die ID der aktuellen Teilnahme mittels (codierter) Seriennummer und Rennenbezeichnung.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#InsertActPos1(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)">InsertActPos1</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;ID,
java.lang.String&nbsp;Lat,
java.lang.String&nbsp;Long,
java.lang.String&nbsp;Gps_Punkt,
java.lang.String&nbsp;Wind,
java.lang.String&nbsp;Gang,
java.lang.String&nbsp;Energie,
java.lang.String&nbsp;Puls,
java.lang.String&nbsp;RPM,
java.lang.String&nbsp;Leistung,
java.lang.String&nbsp;Geschwindigkeit,
java.lang.String&nbsp;Strecke,
java.lang.String&nbsp;Steigung,
java.lang.String&nbsp;Hoehe,
java.lang.String&nbsp;ZPStrecke)</code></th>
<td class="colLast">
<div class="block">InsertActPos1 traegt die aktuelle Position und weitere Daten in die Tabelle ACTPOS ein.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#InsertTeilnahme(java.lang.String,java.lang.String,java.lang.String,java.lang.String)">InsertTeilnahme</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen,
java.lang.String&nbsp;vnr)</code></th>
<td class="colLast">
<div class="block">InsertTeilnahme traegt eine neue Teilnehme mittels Seriennummer und Rennenbezeichnung in die Datenbank ein.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#InsertUser(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)">InsertUser</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;name,
java.lang.String&nbsp;vorname,
java.lang.String&nbsp;ort,
java.lang.String&nbsp;gebjahr,
java.lang.String&nbsp;trainer)</code></th>
<td class="colLast">
<div class="block">InsertUser traegt einen neuen User mit (codierter) Seriennummer in die Datenbank ein.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reConnectDB(java.lang.String)">reConnectDB</a></span>&#8203;(java.lang.String&nbsp;db)</code></th>
<td class="colLast">
<div class="block">Wenn keine Connection zur DB besteht, dann connecten!</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#RennenListe(java.lang.String,java.lang.String)">RennenListe</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR)</code></th>
<td class="colLast">
<div class="block">Der WebService RennenListe liefert eine mit ";"-getrenntes Stringarry aller zukuenftigen Rennen zurueck.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#WarteBisStart(java.lang.String,java.lang.String,java.lang.String)">WarteBisStart</a></span>&#8203;(java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</code></th>
<td class="colLast">
<div class="block">WarteBisStart ermittelt die Startzeit des eingetragenen Rennens mittels (codierter) Seriennummer und Rennenbezeichnung.</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>private java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#windautomatik(int)">windautomatik</a></span>&#8203;(int&nbsp;punkt)</code></th>
<td class="colLast">
<div class="block">Die Windautomatik setzt beim ersten Aufruf zwei zufaellige Punkte und zufaellige Windstaerken fest und
 prueft anschliessend, ob der uebergebene Punkt im Bereich (Punkt + 30) ist und liefert die zugewiesene Windstaerke zurueck.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="url">url</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">url</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#MTBSRaceService.url">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="classname">classname</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">classname</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#MTBSRaceService.classname">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="user">user</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">user</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#MTBSRaceService.user">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="password">password</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">password</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#MTBSRaceService.password">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="con">con</a></h3>
<div class="memberSignature"><span class="modifiers">private static</span>&nbsp;<span class="returnType">java.sql.Connection</span>&nbsp;<span class="memberName">con</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tfmt">tfmt</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.text.SimpleDateFormat</span>&nbsp;<span class="memberName">tfmt</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="WindPunkt">WindPunkt</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">int[]</span>&nbsp;<span class="memberName">WindPunkt</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="WindStaerke">WindStaerke</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">int[]</span>&nbsp;<span class="memberName">WindStaerke</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="Windbereich">Windbereich</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">Windbereich</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#MTBSRaceService.Windbereich">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="WindMAxGPSPunkt">WindMAxGPSPunkt</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">WindMAxGPSPunkt</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#MTBSRaceService.WindMAxGPSPunkt">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="kulanzzeit">kulanzzeit</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">kulanzzeit</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#MTBSRaceService.kulanzzeit">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lastrennid">lastrennid</a></h3>
<div class="memberSignature"><span class="modifiers">private static</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">lastrennid</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">MTBSRaceService</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">MTBSRaceService</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="chkSNR(java.lang.String)">chkSNR</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">chkSNR</span>&#8203;(<span class="arguments">java.lang.String&nbsp;SNR)</span></div>
<div class="block">Ueberpruefung der Seriennummer auf Gueltigkeit.
 Aktuell wird nicht ueberprueft!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>SNR</code> - Seriennummer des MTB-Simulators</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true oder false</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ConnectDB(java.lang.String)">ConnectDB</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">ConnectDB</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db)</span></div>
<div class="block">Connect zur Datenbank.
 TODO: Anpassen an SQLite</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>OK oder Fehlermeldung</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="reConnectDB(java.lang.String)">reConnectDB</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">reConnectDB</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db)</span></div>
<div class="block">Wenn keine Connection zur DB besteht, dann connecten!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - </dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="InsertUser(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)">InsertUser</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">InsertUser</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;name,
java.lang.String&nbsp;vorname,
java.lang.String&nbsp;ort,
java.lang.String&nbsp;gebjahr,
java.lang.String&nbsp;trainer)</span></div>
<div class="block">InsertUser traegt einen neuen User mit (codierter) Seriennummer in die Datenbank ein.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>name</code> - Name des Teilnehmers</dd>
<dd><code>vorname</code> - Vorname des Teilnehmers</dd>
<dd><code>ort</code> - Wohnort das Teilnehmers</dd>
<dd><code>gebjahr</code> - Geburtsjahr (evtl. fuer Altersklassen)</dd>
<dd><code>trainer</code> - Trainingsgeraet</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>OK oder Fehlermeldung</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="InsertTeilnahme(java.lang.String,java.lang.String,java.lang.String,java.lang.String)">InsertTeilnahme</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">InsertTeilnahme</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen,
java.lang.String&nbsp;vnr)</span></div>
<div class="block">InsertTeilnahme traegt eine neue Teilnehme mittels Seriennummer und Rennenbezeichnung in die Datenbank ein.
 Der User muss bereits eingetragen und das Rennen in der Zukunft sein.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>Rennen</code> - Bezeichnung des Rennens</dd>
<dd><code>vnr</code> - Versionsnummer des Clients (nur die Ziffern, z. B. 406)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>User_id des Angemeldeten oder Fehlermeldung</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="DeleteTeilnahme(java.lang.String,java.lang.String,java.lang.String)">DeleteTeilnahme</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">DeleteTeilnahme</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</span></div>
<div class="block">DeleteTeilnahme loescht eine TEILNAHME mittels (codierter) Seriennummer und Rennenbezeichnung aus der Datenbank.
 Der User muss bereits eingetragen und das Rennen in der Zukunft sein.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>Rennen</code> - Rennbezeichnung</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>OK oder Fehlermeldung</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="GetTeilnahmeID(java.lang.String,java.lang.String,java.lang.String)">GetTeilnahmeID</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">GetTeilnahmeID</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</span></div>
<div class="block">GetTeilnahmeID ermittelt die ID der aktuellen Teilnahme mittels (codierter) Seriennummer und Rennenbezeichnung.
 Die Teilnahme-Id wird im Client zum eintragen der Positionen verwendet.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>Rennen</code> - Rennenbezeichnung</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ID der Teilnahme</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="WarteBisStart(java.lang.String,java.lang.String,java.lang.String)">WarteBisStart</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">WarteBisStart</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</span></div>
<div class="block">WarteBisStart ermittelt die Startzeit des eingetragenen Rennens mittels (codierter) Seriennummer und Rennenbezeichnung.
 Anschliessend wird bis zum Startzeitpunkt gewartet und eine Zufallszahl fuer die Anzahl der Wartesekunden zurueckgegeben.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>Rennen</code> - Rennbezeichnung</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zufallszahl (1..9) fuer die Sekunden die der Aufrufer warten soll bis zur ersten Datenuebertragung, oder Fehlermeldung</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="GetRennenID(java.lang.String,java.lang.String,java.lang.String)">GetRennenID</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">GetRennenID</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</span></div>
<div class="block">GetRennenID ermittelt die ID des Rennens anhand der Rennenbezeichnung.
 Die Renn-Id wird im Client zum ermitteln der Positionen aller Teilnehmer verwendet.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>Rennen</code> - Rennenbezeichnung</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ID des Rennens</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="GetKonfiguration(java.lang.String,java.lang.String,java.lang.String)">GetKonfiguration</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">GetKonfiguration</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;Rennen)</span></div>
<div class="block">GetKonfiguration ermittelt die Konfigurationswerte (MIN-Leistung etc.) anhand der Rennenbezeichnung.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>Rennen</code> - Rennenbezeichnung</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>"MINLEISTUNG ; DYNAMIK" ...</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="InsertActPos1(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)">InsertActPos1</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">InsertActPos1</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;ID,
java.lang.String&nbsp;Lat,
java.lang.String&nbsp;Long,
java.lang.String&nbsp;Gps_Punkt,
java.lang.String&nbsp;Wind,
java.lang.String&nbsp;Gang,
java.lang.String&nbsp;Energie,
java.lang.String&nbsp;Puls,
java.lang.String&nbsp;RPM,
java.lang.String&nbsp;Leistung,
java.lang.String&nbsp;Geschwindigkeit,
java.lang.String&nbsp;Strecke,
java.lang.String&nbsp;Steigung,
java.lang.String&nbsp;Hoehe,
java.lang.String&nbsp;ZPStrecke)</span></div>
<div class="block">InsertActPos1 traegt die aktuelle Position und weitere Daten in die Tabelle ACTPOS ein.
 Das ist die neue Version mit Uebertragung der Zielpulsstrecke.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>ID</code> - Teilnahme-ID</dd>
<dd><code>Lat</code> - Breitengrad</dd>
<dd><code>Long</code> - Laengengrad</dd>
<dd><code>Gps_Punkt</code> - Index des GPS-Punktes</dd>
<dd><code>Wind</code> - Windgeschwindigkeit</dd>
<dd><code>Gang</code> - Gang</dd>
<dd><code>Energie</code> - kCal</dd>
<dd><code>Puls</code> - Pulsrate</dd>
<dd><code>RPM</code> - Kurbelumdrehungen</dd>
<dd><code>Leistung</code> - akt. Leistung</dd>
<dd><code>Geschwindigkeit</code> - akt. Geschwindigkeit</dd>
<dd><code>Strecke</code> - zurueckgelegte Strecke</dd>
<dd><code>Steigung</code> - akt. Steigung</dd>
<dd><code>Hoehe</code> - akt. Hoehe</dd>
<dd><code>ZPStrecke</code> - zurueckgelegte Strecke im Zielpulsbereich</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>OK oder Fehlermeldung</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getRegCode(java.lang.String,java.lang.String,java.lang.String)">getRegCode</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getRegCode</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;sNR,
java.lang.String&nbsp;name)</span></div>
<div class="block">getRegCode testet ob die SNR in der Tabelle REGDAT gueltig ist.
 Wenn ja, dann wird der Keystring gebildet aus:
 SNR~Name~Level~31.12.2100
 und CRYPTCODE ermittelt und der Datensatz aktualisiert mit:
 NAME=Name, FREI=0, ANZREG+1, REGDATE, CRYPTCODE</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>sNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>name</code> - Name/Pseudonym wie vom User eingetragen</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CRYPTCODE zur Uebernahme in die MTBS-Settings</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getInfoURL(java.lang.String,java.lang.String)">getInfoURL</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getInfoURL</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;url)</span></div>
<div class="block">getInfoURL testet ob die uebergebene URL der letzte Eintrag in der 
 INFO Tabelle ist, wenn ja wird ein leerer String zurueckgegeben.
 Damit wird erreicht, dass keine Meldungen mehrfach angezeigt werden.
 Ist eine neuere URL vorhanden oder ist die uebergebene URL leer (erster
 Aufruf des MTBS) dann wird die neueste URL zurueckgegeben.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>url</code> - letzte URL, die vom Client angezeigt wurde</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>url des neuesten Eintrags in INFO-Tabelle</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLetzteAnmeldung(long)">getLetzteAnmeldung</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getLetzteAnmeldung</span>&#8203;(<span class="arguments">long&nbsp;rennenid)</span></div>
<div class="block">Ermittelt die letzte Anmeldung</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rennenid</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Name als String</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="windautomatik(int)">windautomatik</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">windautomatik</span>&#8203;(<span class="arguments">int&nbsp;punkt)</span></div>
<div class="block">Die Windautomatik setzt beim ersten Aufruf zwei zufaellige Punkte und zufaellige Windstaerken fest und
 prueft anschliessend, ob der uebergebene Punkt im Bereich (Punkt + 30) ist und liefert die zugewiesene Windstaerke zurueck.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>punkt</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Windstaerke (1..6) als Zahl</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="RennenListe(java.lang.String,java.lang.String)">RennenListe</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String[]</span>&nbsp;<span class="memberName">RennenListe</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR)</span></div>
<div class="block">Der WebService RennenListe liefert eine mit ";"-getrenntes Stringarry aller zukuenftigen Rennen zurueck.
 Wird SNR uebergeben, dann wird ein Array mit allen Rennen des Users zurueckgegeben.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String[] aus Datenbank mit ";" getrennt.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ActPosListe(java.lang.String,java.lang.String,java.lang.String)">ActPosListe</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String[]</span>&nbsp;<span class="memberName">ActPosListe</span>&#8203;(<span class="arguments">java.lang.String&nbsp;db,
java.lang.String&nbsp;SNR,
java.lang.String&nbsp;RennenId)</span></div>
<div class="block">Rueckgabe der aktuellen Positionen aller Teilnehmer eines Rennens als Stringarray.
 25.11.2011: erweitert auf Zielpulstraining
 28.12.2011: Zielpulsstrecke wird extra zurueckgegeben</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - Datenbank</dd>
<dd><code>SNR</code> - Seriennummer MTB-Simulator</dd>
<dd><code>RennenId</code> - Id des Rennens</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String[] aus Datenbank mit ";" getrennt.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MTBSRaceService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
